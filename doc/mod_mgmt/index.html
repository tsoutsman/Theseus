<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `mod_mgmt` crate."><meta name="keywords" content="rust, rustlang, rust-lang, mod_mgmt"><title>mod_mgmt - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../mod_mgmt/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../mod_mgmt/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate mod_mgmt</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../mod_mgmt/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">mod_mgmt</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/mod_mgmt/lib.rs.html#1-3296">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="parse_nano_core/index.html" title="mod_mgmt::parse_nano_core mod">parse_nano_core</a></div><div class="item-right docblock-short"><p>Routines for parsing the <code>nano_core</code>, the fully-linked, already-loaded base kernel image,
in other words, the code that is currently executing.
As such, it performs no loading, but rather just creates metadata that represents
the existing kernel code that was loaded by the bootloader, and adds those functions to the system map.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="replace_nano_core_crates/index.html" title="mod_mgmt::replace_nano_core_crates mod">replace_nano_core_crates</a></div><div class="item-right docblock-short"><p>Routines for replacing the crates that comprise the <code>nano_core</code>,
i.e., the base kernel image. </p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AppCrateRef.html" title="mod_mgmt::AppCrateRef struct">AppCrateRef</a></div><div class="item-right docblock-short"><p>An application crate that has been loaded into a <code>CrateNamespace</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CrateNamespace.html" title="mod_mgmt::CrateNamespace struct">CrateNamespace</a></div><div class="item-right docblock-short"><p>This struct represents a namespace of crates and their “global” (publicly-visible) symbols.
A crate namespace struct is basically a container around many crates 
that have all been loaded and linked against each other, 
completely separate and in isolation from any other crate namespace 
(although a given crate may be shared across multiple namespaces).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LoadedCrate.html" title="mod_mgmt::LoadedCrate struct">LoadedCrate</a></div><div class="item-right docblock-short"><p>Represents a single crate whose object file has been 
loaded and linked into at least one <code>CrateNamespace</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LoadedSection.html" title="mod_mgmt::LoadedSection struct">LoadedSection</a></div><div class="item-right docblock-short"><p>Represents a section that has been loaded and is part of a <code>LoadedCrate</code>.
The containing <code>SectionType</code> enum determines which type of section it is.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LoadedSectionInner.html" title="mod_mgmt::LoadedSectionInner struct">LoadedSectionInner</a></div><div class="item-right docblock-short"><p>The parts of a <code>LoadedSection</code> that may be mutable, i.e., 
only the parts that could change after a section is initially loaded and linked.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NamespaceDir.html" title="mod_mgmt::NamespaceDir struct">NamespaceDir</a></div><div class="item-right docblock-short"><p>A wrapper around a <code>Directory</code> reference that offers special convenience functions
for getting and inserting crate object files into a directory.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RelocationEntry.html" title="mod_mgmt::RelocationEntry struct">RelocationEntry</a></div><div class="item-right docblock-short"><p>The information necessary to calculate and write a relocation value,
based on a source section and a target section, in which a value 
based on the location of the source section is written somwhere in the target section.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StrRef.html" title="mod_mgmt::StrRef struct">StrRef</a></div><div class="item-right docblock-short"><p>A wrapper around an <code>Arc&lt;str&gt;</code>: an immutable shared reference to a string slice.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StrongDependency.html" title="mod_mgmt::StrongDependency struct">StrongDependency</a></div><div class="item-right docblock-short"><p>A representation that the owner <code>A</code> of (a <code>LoadedSection</code> object containing) this struct
depends on the given <code>section</code> <code>B</code> in this struct.
The dependent section <code>A</code> is not specifically included here;
since it’s the owner of this struct, it’s implicit that it’s the dependent one.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TlsDataImage.html" title="mod_mgmt::TlsDataImage struct">TlsDataImage</a></div><div class="item-right docblock-short"><p>An initialized TLS area data image ready to be used by a new task.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.WeakDependent.html" title="mod_mgmt::WeakDependent struct">WeakDependent</a></div><div class="item-right docblock-short"><p>A representation that the <code>section</code> <code>A</code> in this struct
depends on the owner <code>B</code> of (the <code>LoadedSection</code> object containing) this struct. 
The target dependency <code>B</code> is not specifically included here; 
it’s implicitly the owner of this struct.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.CrateType.html" title="mod_mgmt::CrateType enum">CrateType</a></div><div class="item-right docblock-short"><p>The type of a crate, based on its object file naming convention.
This naming convention is only used for crate object files
that come from <strong>bootloader-provided modules</strong>,
which the Theseus makefile assigns at build time.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.IntoCrateObjectFile.html" title="mod_mgmt::IntoCrateObjectFile enum">IntoCrateObjectFile</a></div><div class="item-right docblock-short"><p>A type that can be converted into a crate object file.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SectionType.html" title="mod_mgmt::SectionType enum">SectionType</a></div><div class="item-right docblock-short"><p>The possible types of sections that can be loaded from a crate object file.</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.BSS_SECTION_NAME.html" title="mod_mgmt::BSS_SECTION_NAME constant">BSS_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.CRATE_HASH_DELIMITER.html" title="mod_mgmt::CRATE_HASH_DELIMITER constant">CRATE_HASH_DELIMITER</a></div><div class="item-right docblock-short"><p>A crate’s name and its hash are separated by “-”, i.e., “my_crate-hash”.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DATA_BSS_SECTION_FLAGS.html" title="mod_mgmt::DATA_BSS_SECTION_FLAGS constant">DATA_BSS_SECTION_FLAGS</a></div><div class="item-right docblock-short"><p><code>.data</code> and <code>.bss</code> sections are read-write and non-executable.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DATA_SECTION_NAME.html" title="mod_mgmt::DATA_SECTION_NAME constant">DATA_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.EH_FRAME_SECTION_NAME.html" title="mod_mgmt::EH_FRAME_SECTION_NAME constant">EH_FRAME_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.EXTRA_FILES_DIRECTORY_NAME.html" title="mod_mgmt::EXTRA_FILES_DIRECTORY_NAME constant">EXTRA_FILES_DIRECTORY_NAME</a></div><div class="item-right docblock-short"><p>The name of the directory that contains all other “extra_files” contents.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.GCC_EXCEPT_TABLE_SECTION_NAME.html" title="mod_mgmt::GCC_EXCEPT_TABLE_SECTION_NAME constant">GCC_EXCEPT_TABLE_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MODULE_PREFIX_DELIMITER.html" title="mod_mgmt::MODULE_PREFIX_DELIMITER constant">MODULE_PREFIX_DELIMITER</a></div><div class="item-right docblock-short"><p>The Theseus Makefile appends prefixes onto bootloader module names,
which are separated by the “#” character. 
For example, “k#my_crate-hash.o”.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.NAMESPACES_DIRECTORY_NAME.html" title="mod_mgmt::NAMESPACES_DIRECTORY_NAME constant">NAMESPACES_DIRECTORY_NAME</a></div><div class="item-right docblock-short"><p>The name of the directory that contains all of the CrateNamespace files.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.RODATA_SECTION_FLAGS.html" title="mod_mgmt::RODATA_SECTION_FLAGS constant">RODATA_SECTION_FLAGS</a></div><div class="item-right docblock-short"><p><code>.rodata</code> sections are read-only and non-executable.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.RODATA_SECTION_NAME.html" title="mod_mgmt::RODATA_SECTION_NAME constant">RODATA_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.SECTION_HASH_DELIMITER.html" title="mod_mgmt::SECTION_HASH_DELIMITER constant">SECTION_HASH_DELIMITER</a></div><div class="item-right docblock-short"><p>A section’s demangled name and its hash are separated by “::h”, 
e.g., “my_crate::section_name::h<hash>”.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.TEXT_SECTION_FLAGS.html" title="mod_mgmt::TEXT_SECTION_FLAGS constant">TEXT_SECTION_FLAGS</a></div><div class="item-right docblock-short"><p><code>.text</code> sections are read-only and executable.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.TEXT_SECTION_NAME.html" title="mod_mgmt::TEXT_SECTION_NAME constant">TEXT_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.TLS_BSS_SECTION_NAME.html" title="mod_mgmt::TLS_BSS_SECTION_NAME constant">TLS_BSS_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.TLS_DATA_SECTION_NAME.html" title="mod_mgmt::TLS_DATA_SECTION_NAME constant">TLS_DATA_SECTION_NAME</a></div><div class="item-right docblock-short"></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.crate_name_from_path.html" title="mod_mgmt::crate_name_from_path fn">crate_name_from_path</a></div><div class="item-right docblock-short"><p>Returns the crate name that is derived from a crate object file path.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.create_application_namespace.html" title="mod_mgmt::create_application_namespace fn">create_application_namespace</a></div><div class="item-right docblock-short"><p>Create a new application <code>CrateNamespace</code> that uses the default application directory 
and is structured atop the given <code>recursive_namespace</code>. 
If no <code>recursive_namespace</code> is provided, the default initial kernel namespace will be used. </p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.find_symbol_table.html" title="mod_mgmt::find_symbol_table fn">find_symbol_table</a></div><div class="item-right docblock-short"><p>Returns a reference to the symbol table in the given <code>ElfFile</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_containing_crate_name.html" title="mod_mgmt::get_containing_crate_name fn">get_containing_crate_name</a></div><div class="item-right docblock-short"><p>Parses the given symbol string to try to find the name of the parent crate
that contains the symbol. 
Depending on the symbol, there may be multiple potential parent crates;
if so, they are returned in order of likeliness: 
the first crate name in the symbol is most likely to contain it.
If the parent crate cannot be determined (e.g., a <code>no_mangle</code> symbol),
then an empty <code>Vec</code> is returned.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_containing_crate_name_ranges.html" title="mod_mgmt::get_containing_crate_name_ranges fn">get_containing_crate_name_ranges</a></div><div class="item-right docblock-short"><p>Same as <a href="#get_containing_crate_name"><code>get_containing_crate_name()</code></a>,
but returns the substring <code>Range</code>s of where the parent crate names 
are located in the given <code>demangled_full_symbol</code> string.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_initial_kernel_namespace.html" title="mod_mgmt::get_initial_kernel_namespace fn">get_initial_kernel_namespace</a></div><div class="item-right docblock-short"><p>Returns a reference to the default kernel namespace, 
which must exist because it contains the initially-loaded kernel crates. 
Returns None if the default namespace hasn’t yet been initialized.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_namespaces_directory.html" title="mod_mgmt::get_namespaces_directory fn">get_namespaces_directory</a></div><div class="item-right docblock-short"><p>Returns the top-level directory that contains all of the namespaces. </p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.init.html" title="mod_mgmt::init fn">init</a></div><div class="item-right docblock-short"><p>Initializes the module management system based on the bootloader-provided modules, 
and creates and returns the default <code>CrateNamespace</code> for kernel crates.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.is_valid_crate_name_char.html" title="mod_mgmt::is_valid_crate_name_char fn">is_valid_crate_name_char</a></div><div class="item-right docblock-short"><p>Crate names must be only alphanumeric characters, an underscore, or a dash.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.replace_containing_crate_name.html" title="mod_mgmt::replace_containing_crate_name fn">replace_containing_crate_name</a></div><div class="item-right docblock-short"><p>Replaces the <code>old_crate_name</code> substring in the given <code>demangled_full_symbol</code> with the given <code>new_crate_name</code>, 
if it can be found, and if the parent crate name matches the <code>old_crate_name</code>. 
If the parent crate name can be found but does not match the expected <code>old_crate_name</code>,
then None is returned.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.section_name_str_ref.html" title="mod_mgmt::section_name_str_ref fn">section_name_str_ref</a></div><div class="item-right docblock-short"><p>Returns the default name for the given <code>SectionType</code> as a <a href="struct.StrRef.html" title="StrRef"><code>StrRef</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.write_relocation.html" title="mod_mgmt::write_relocation fn">write_relocation</a></div><div class="item-right docblock-short"><p>Write an actual relocation entry.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Shndx.html" title="mod_mgmt::Shndx type">Shndx</a></div><div class="item-right docblock-short"><p>A Section Header iNDeX (SHNDX), as specified by the ELF format. 
Even though this is typically encoded as a <code>u16</code>,
its decoded form can exceed the max size of <code>u16</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.StrongCrateRef.html" title="mod_mgmt::StrongCrateRef type">StrongCrateRef</a></div><div class="item-right docblock-short"><p>A Strong reference to a <a href="struct.LoadedCrate.html" title="LoadedCrate"><code>LoadedCrate</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.StrongSectionRef.html" title="mod_mgmt::StrongSectionRef type">StrongSectionRef</a></div><div class="item-right docblock-short"><p>A Strong reference (<a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="Arc"><code>Arc</code></a>) to a <a href="struct.LoadedSection.html" title="LoadedSection"><code>LoadedSection</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SymbolMap.html" title="mod_mgmt::SymbolMap type">SymbolMap</a></div><div class="item-right docblock-short"><p>A “symbol map” from a fully-qualified demangled symbol String<br />
to weak reference to a <code>LoadedSection</code>.
This is used for relocations, and for looking up function names.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.WeakCrateRef.html" title="mod_mgmt::WeakCrateRef type">WeakCrateRef</a></div><div class="item-right docblock-short"><p>A Weak reference to a <a href="struct.LoadedCrate.html" title="LoadedCrate"><code>LoadedCrate</code></a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="type" href="type.WeakSectionRef.html" title="mod_mgmt::WeakSectionRef type">WeakSectionRef</a></div><div class="item-right docblock-short"><p>A Weak reference (<a href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Weak.html" title="Weak"><code>Weak</code></a>) to a <a href="struct.LoadedSection.html" title="LoadedSection"><code>LoadedSection</code></a>.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="mod_mgmt" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0-nightly (f8588549c 2022-07-18)" ></div>
</body></html>